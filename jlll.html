<!-- 引入FancyBox CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css">

<!-- 添加自定义CSS来隐藏移动端左右箭头，并添加懒加载动画 -->
<style>
@media (max-width: 767px) {
    .fancybox__nav .fancybox__button--prev,
    .fancybox__nav .fancybox__button--next {
        display: none !important;
    }
}

/* 懒加载和动画 CSS */
.lazy-img {
    opacity: 0;
    transform: translateY(40px); /* 初始向下偏移 40px */
    transition: opacity 0.8s ease-in-out, transform 1s ease-in-out; /* 淡入 0.8s，上滑 1s */
    background-color: #f0f0f0; /* 占位背景色 */
    position: relative;
}

.lazy-img.visible {
    opacity: 1;
    transform: translateY(0); /* 上滑到原位 */
}

/* 可选：加载中脉冲动画 */
.lazy-img::before {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0;
    animation: pulse 2.5s infinite;
    background-color: rgba(0, 0, 0, 0.1); /* 轻微脉冲背景 */
}

@keyframes pulse {
    0% { opacity: 0; }
    50% { opacity: 0.1; }
    100% { opacity: 0; }
}

.lazy-img.visible::before {
    animation: none;
    content: none;
}
</style>

<!-- 图片画廊容器 -->
<div class="gallery">

    <div class="separator" style="clear: both;">
        <a href=" " 
           class="fancybox" 
           data-fancybox="gallery" 
           style="display: block; padding: 1em 0; text-align: center;">
            <img alt="" border="0" data-original-height="768" data-original-width="1024" 
                 data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEidimeaEse-KLQZbWl-jpBqFMAaymYtXYSWDimYYYsuPsM0PZqDfa7wfrxRcoVxsNo4oT9wC7lEJ8cmZeI0HRyNkCxiwpwrD1Y405RTWLJ_aoLuzs9Pb8Z2SODCFe_NmCLy1Ki-G-r8GnNvUGcC2RbNG5G6d_-mu29TaqUAMBs7n66leuDULhTmREgBoqDe/s1600/C3CEE041-2FA9-4F34-A782-6D7BF155B823_1_105_c.jpeg"
                 src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
                 class="lazy-img" />
        </a>
    </div>

    <div class="separator" style="clear: both;">
        <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUDaRpLeUKSHhPk1WrLph7v6D2Kx1572nsy2Bn8Ee6Gjimi9CymaARUNkdOiFIMnV7Ag45B8327trMvrgnBvsrw0ZlI4xoPIO5q9CTUPBVNgE_w1HZvp0PMybhzreZ3ctwV2cqL6xaemvnCoqiBfbnet6-lMNAA4FfbdeFOOYejB8V496NfTfgZdP0EQJT/s1600/2F94296C-02E6-4CBA-8779-C1F267BA68CE_1_105_c.jpeg" 
           class="fancybox" 
           data-fancybox="gallery" 
           style="display: block; padding: 1em 0; text-align: center; clear: left; float: left;">
            <img alt="" border="0" data-original-height="768" data-original-width="1024" 
                 data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEiUDaRpLeUKSHhPk1WrLph7v6D2Kx1572nsy2Bn8Ee6Gjimi9CymaARUNkdOiFIMnV7Ag45B8327trMvrgnBvsrw0ZlI4xoPIO5q9CTUPBVNgE_w1HZvp0PMybhzreZ3ctwV2cqL6xaemvnCoqiBfbnet6-lMNAA4FfbdeFOOYejB8V496NfTfgZdP0EQJT/s1600/2F94296C-02E6-4CBA-8779-C1F267BA68CE_1_105_c.jpeg"
                 src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
                 class="lazy-img" />
        </a>
    </div>

    <div class="separator" style="clear: both;">
        <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwbFjmpLQSzSSsbO0l-XPCHp7IejpzxFQvWkv8_5CpKOo-fd7OmRc4kvArRjwzrw-0ZvZ-x1dqq9S1mYgofD-kW6O8A76LvKZqevDpaoTIiZjUlMbcKNCNa9UgtH2e7p1GFr-gRGQn_rZM4R7r1Pb7vULj82ab71_mFUdkMfxFrd_6agOwt0uKr2eL-06d/s1600/C03C20CE-D63A-4694-ADFD-0F2BCB7739FC_1_105_c.jpeg" 
           class="fancybox" 
           data-fancybox="gallery" 
           style="display: block; padding: 1em 0; text-align: center;">
            <img alt="" border="0" data-original-height="768" data-original-width="1024" 
                 data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjwbFjmpLQSzSSsbO0l-XPCHp7IejpzxFQvWkv8_5CpKOo-fd7OmRc4kvArRjwzrw-0ZvZ-x1dqq9S1mYgofD-kW6O8A76LvKZqevDpaoTIiZjUlMbcKNCNa9UgtH2e7p1GFr-gRGQn_rZM4R7r1Pb7vULj82ab71_mFUdkMfxFrd_6agOwt0uKr2eL-06d/s1600/C03C20CE-D63A-4694-ADFD-0F2BCB7739FC_1_105_c.jpeg"
                 src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
                 class="lazy-img" />
        </a>
    </div>

    <div class="separator" style="clear: both;">
        <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjD0k6XTEEJ8Hf87TuIGp-QFI5j1pJdWnGnWvVkyhUfpIzB1ErhCUgL5RdeX3pms6F0MU_1a0DbgH49mu0VGADLUAZdPaqUTtBKF-OlWFpEqHUTMkLt_PYB2ZJEs4U7KKoHhzmqokjChBkgQYKW6QdgF_GPCokC3DtwZiZfXWWmg06nER-fFaMGIAis2kXJ/s1600/026BB1D0-2F10-4769-B1F4-43E5D61DD452_1_105_c.jpeg" 
           class="fancybox" 
           data-fancybox="gallery" 
           style="display: block; padding: 1em 0; text-align: center;">
            <img alt="" border="0" data-original-height="768" data-original-width="1024" 
                 data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjD0k6XTEEJ8Hf87TuIGp-QFI5j1pJdWnGnWvVkyhUfpIzB1ErhCUgL5RdeX3pms6F0MU_1a0DbgH49mu0VGADLUAZdPaqUTtBKF-OlWFpEqHUTMkLt_PYB2ZJEs4U7KKoHhzmqokjChBkgQYKW6QdgF_GPCokC3DtwZiZfXWWmg06nER-fFaMGIAis2kXJ/s1600/026BB1D0-2F10-4769-B1F4-43E5D61DD452_1_105_c.jpeg"
                 src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
                 class="lazy-img" />
        </a>
    </div>

    <div class="separator" style="clear: both;">
        <a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg8dzOYEg5e8tG1NOVq-FCJUaU3El4Oozs59jF160roNpQh_vDZ8MCyc8WD4dXpE3Vzn0GMFNxhhCHGEThYWe09IXq2Zg54azMcnefWrCNJhi8KKfVBGbab7mJI7O0R7Lg9w3l_J47G59BbMfQ6tOO0wWaTbPQp9OyqQG3QhO48usdOegdbNPERSl8Xmdbv/s1600/AD2C32B5-8556-4CD1-A10B-E35D4C6211BC_1_105_c.jpeg" 
           class="fancybox" 
           data-fancybox="gallery" 
           style="display: block; padding: 1em 0; text-align: center;">
            <img alt="" border="0" data-original-height="768" data-original-width="1024" 
                 data-src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEg8dzOYEg5e8tG1NOVq-FCJUaU3El4Oozs59jF160roNpQh_vDZ8MCyc8WD4dXpE3Vzn0GMFNxhhCHGEThYWe09IXq2Zg54azMcnefWrCNJhi8KKfVBGbab7mJI7O0R7Lg9w3l_J47G59BbMfQ6tOO0wWaTbPQp9OyqQG3QhO48usdOegdbNPERSl8Xmdbv/s1600/AD2C32B5-8556-4CD1-A10B-E35D4C6211BC_1_105_c.jpeg"
                 src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" 
                 class="lazy-img" />
        </a>
    </div>

</div>

<!-- 引入FancyBox JS -->
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
<script>
    Fancybox.bind('[data-fancybox="gallery"]', {
        // 启用缩放和滑动
        Thumbs: {
            autoStart: true, // 显示缩略图导航
        },
        Toolbar: {
            display: {
                left: ["infobar"],
                middle: [],
                right: ["slideshow", "thumbs", "zoom", "close"],
            },
        },
    });
</script>

<!-- 懒加载 JS 使用 IntersectionObserver -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const lazyImgs = document.querySelectorAll('.lazy-img');

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.dataset.src; // 加载真实图片
                    img.classList.add('visible'); // 触发动画
                    observer.unobserve(img); // 停止观察
                }
            });
        }, {
            rootMargin: '0px 0px 50px 0px', // 提前50px加载
            threshold: 0.1 // 10% 可见时触发
        });

        lazyImgs.forEach(img => {
            observer.observe(img);
        });

        // 如果浏览器不支持 IntersectionObserver，立即加载所有图片
        if (!('IntersectionObserver' in window)) {
            lazyImgs.forEach(img => {
                img.src = img.dataset.src;
                img.classList.add('visible');
            });
        }
    });
</script>